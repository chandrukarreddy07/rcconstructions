<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>RCC Slab Calculator</title>

<link rel="stylesheet" href="../../style.css">

<style>
.result-box{
  background:#f1f8ff;
  padding:16px;
  margin-top:20px;
  border-radius:10px;
  font-weight:600;
}
</style>
</head>

<body>

<header class="site-header">
  <h1>RC CONSTRUCTIONS</h1>
  <div class="page-title">
    <h2>RCC Slab Estimation</h2>
  </div>
</header>

<main class="container fade-in">

  <div class="card">
    <h2>RCC Slab Calculator</h2>
  </div>

  <div class="card">

    <!-- A) SLAB DIMENSIONS -->
    <div class="section">
      <h3>A) Slab Dimensions</h3>

      <label>Slab Length (ft)</label>
      <input type="number" id="L" value="30">

      <label>Slab Width (ft)</label>
      <input type="number" id="W" value="20">

      <label>Slab Thickness (ft)</label>
      <input type="number" id="T" value="0.5">
    </div>

    <!-- B) REINFORCEMENT -->
    <div class="section">
      <h3>B) Reinforcement Details</h3>

      <label>Steel Percentage (%)</label>
      <input type="number" id="steelPercent" value="1">

      <label>Steel Rate (₹ / kg)</label>
      <input type="number" id="steelRate" value="70">
    </div>

    <!-- C) CONCRETE MIX -->
    <div class="section">
      <h3>C) Concrete Mix</h3>

      <label>Concrete Grade</label>
      <input type="text" value="M20" disabled>

      <label>Cement Rate (₹ / bag)</label>
      <input type="number" id="cementRate" value="420">

      <label>Sand Rate (₹ / cft)</label>
      <input type="number" id="sandRate" value="60">

      <label>Aggregate Rate (₹ / cft)</label>
      <input type="number" id="aggRate" value="55">
    </div>

    <button onclick="calculateSlab()">Calculate</button>

    <div id="result" class="result-box"></div>

  </div>
</main>

<script>
function calculateSlab(){

  const L = +document.getElementById("L").value;
  const W = +document.getElementById("W").value;
  const T = +document.getElementById("T").value;

  const steelPercent = +document.getElementById("steelPercent").value;
  const steelRate = +document.getElementById("steelRate").value;

  const cementRate = +document.getElementById("cementRate").value;
  const sandRate = +document.getElementById("sandRate").value;
  const aggRate = +document.getElementById("aggRate").value;

  if(!L || !W || !T){
    document.getElementById("result").innerHTML = "Enter all values";
    return;
  }

  // Volume
  const volumeCft = L * W * T;
  const volumeCum = volumeCft / 35.3147;

  // Steel
  const steelKg = volumeCum * 7850 * (steelPercent / 100);
  const steelCost = steelKg * steelRate;

  // Concrete materials (M20 approx)
  const cementBags = volumeCum * 8;
  const cementCost = cementBags * cementRate;

  const sandCft = volumeCft * 0.45;
  const sandCost = sandCft * sandRate;

  const aggCft = volumeCft * 0.9;
  const aggCost = aggCft * aggRate;

  const totalCost = steelCost + cementCost + sandCost + aggCost;

  // SAVE TO BOQ
  localStorage.setItem("rccSlabCost", Math.round(totalCost));

  document.getElementById("result").innerHTML = `
    Concrete Volume: <b>${volumeCum.toFixed(2)} m³</b><br><br>

    Steel: ${steelKg.toFixed(1)} kg = ₹${steelCost.toFixed(0)}<br>
    Cement: ${cementBags.toFixed(1)} bags = ₹${cementCost.toFixed(0)}<br>
    Sand Cost: ₹${sandCost.toFixed(0)}<br>
    Aggregate Cost: ₹${aggCost.toFixed(0)}<br><br>

    <b>Total RCC Slab Cost: ₹${totalCost.toFixed(0)}</b>
  `;
}
</script>

</body>
</html>